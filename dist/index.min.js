var Single=function(r){"use strict";r=r&&r.hasOwnProperty("default")?r.default:r;const e=r=>"object"==typeof r&&"function"==typeof r[Symbol.iterator],n=r=>"object"==typeof r&&"function"==typeof r.onSubscribe,o=r=>r instanceof Promise||!!r&&("object"==typeof r||"function"==typeof r)&&"function"==typeof r.then;function t(r){const{onSuccess:e,onError:n,controller:o}=this;if(!o.signal.aborted)try{void 0===r?n("onSuccess called with a null value."):e(r)}finally{o.abort()}}function s(r){const{onError:e,controller:n}=this;let o=r;if(r instanceof Error||(o=new Error("onError called with a non-Error value.")),!n.signal.aborted)try{e(o)}finally{n.abort()}}const c=r=>r,i=r=>{throw r},u=r=>({onSubscribe:r.onSubscribe,onSuccess:"function"==typeof r.onSuccess?r.onSuccess:c,onError:"function"==typeof r.onError?r.onError:i}),b=(e,n)=>{const{onSubscribe:o,onSuccess:t}=u(e),s=new r;o(s),s.signal.aborted||(t(n),s.abort())},a=(e,n)=>{const{onSubscribe:o,onError:t}=u(e),s=new r;o(s),s.signal.aborted||(t(n),s.abort())};function l(r){let e;try{if(null==(e=this.supplier()))throw new Error("Single.error: Error supplier returned a null value.")}catch(r){e=r}a(r,e)}var f=r=>{let e=r;r instanceof Error||(e=new Error("Single.error received a non-Error value.")),"function"!=typeof r&&(e=(r=>()=>r)(e));const n=new Mr(l);return n.supplier=e,n};function h(e){const{onSuccess:n,onError:o,onSubscribe:t}=u(e),s=new r,{signal:c}=s;if(t(s),c.aborted)return;const{sources:i}=this;for(const r of i){if(c.aborted)return;if(!(r instanceof Mr)){o(new Error("Single.amb: One of the sources is a non-Single.")),s.abort();break}r.subscribeWith({onSubscribe(r){c.addEventListener("abort",()=>r.abort())},onSuccess(r){n(r),s.abort()},onError(r){o(r),s.abort()}})}}var S=r=>{if(!e(r))return f(new Error("Single.amb: sources is not Iterable."));const n=new Mr(h);return n.sources=r,n};function d(e){const{onSuccess:n,onError:o,onSubscribe:t}=u(e),s=new r,{signal:c}=s;if(t(s),c.aborted)return;const i=r=>{c.aborted||(n(r),s.abort())},b=r=>{c.aborted||(o(r),s.abort())},{source:a,other:l}=this;a.subscribeWith({onSubscribe(r){c.addEventListener("abort",()=>r.abort())},onSuccess:i,onError:b}),l.subscribeWith({onSubscribe(r){c.aborted?r.abort():c.addEventListener("abort",()=>r.abort())},onSuccess:i,onError:b})}var E=(r,e)=>{if(!(e instanceof Mr))return r;const n=new Mr(d);return n.source=r,n.other=e,n};function v(e){const{onSuccess:n,onError:o,onSubscribe:t}=u(e),{source:s,cached:c,observers:i,subscribed:b}=this;if(c){const e=new r;t(e);const{value:s,error:c}=this;null!=s&&n(s),null!=c&&o(c),e.abort()}else{const n=i.length;i[n]=e;const o=new r;o.signal.addEventListener("abort",()=>{i.splice(n,1)}),t(o),b||(s.subscribeWith({onSubscribe(){},onSuccess:r=>{this.cached=!0,this.value=r;for(const e of i)e.onSuccess(r);this.observers=void 0},onError:r=>{this.cached=!0,this.error=r;for(const e of i)e.onError(r);this.observers=void 0}}),this.subscribed=!0)}}var w=r=>{const e=new Mr(v);return e.source=r,e.cached=!1,e.subscribed=!1,e.observers=[],e};function p(e){const{onSuccess:n,onError:o,onSubscribe:c}=u(e),i=new r;i.onSuccess=t.bind(this),i.onError=s.bind(this),this.controller=i,this.onSuccess=n,this.onError=o,c(i);try{this.subscriber(i)}catch(r){i.onError(r)}}var m=r=>{if("function"!=typeof r)return f(new Error("Single.create: There are no subscribers."));const e=new Mr(p);return e.subscriber=r,e},g=(r,e)=>{if("function"!=typeof e)return r;let n;try{if(!((n=e(r))instanceof Mr))throw new Error("Single.compose: transformer returned a non-Single.")}catch(r){n=f(r)}return n};const y=(r,e)=>r===e;function W(r){const{onSuccess:e,onError:n,onSubscribe:o}=u(r),{value:t,comparer:s}=this;this.source.subscribeWith({onSubscribe:o,onSuccess(r){let o;try{o=s(r,t)}catch(r){return void n(r)}e(o)},onError:n})}var L=(r,e,n)=>{if(null==e)return r;let o=n;"function"!=typeof o&&(o=y);const t=new Mr(W);return t.source=r,t.value=e,t.comparer=o,t};function z(r){const{onSuccess:e,onError:n,onSubscribe:o}=u(r);let t,s;try{if(!((t=this.supplier())instanceof Mr))throw new Error("Single.defer: supplier returned a non-Single.")}catch(r){s=r}null!=s?a(r,s):t.subscribeWith({onSubscribe:o,onSuccess:e,onError:n})}var T=r=>{const e=new Mr(z);return e.supplier=r,e};function O(e){const{onSuccess:n,onError:o,onSubscribe:t}=u(e),{amount:s,doDelayError:c}=this;let i;const b=new r,{signal:a}=b;t(b),a.aborted||(a.addEventListener("abort",()=>{void 0!==i&&clearTimeout(i)}),this.source.subscribeWith({onSubscribe(r){a.addEventListener("abort",()=>{r.abort()})},onSuccess(r){i=setTimeout(()=>{n(r),b.abort()},s)},onError(r){i=setTimeout(()=>{o(r),b.abort()},c?s:0)}}))}var P=(r,e,n)=>{if("number"!=typeof e)return r;const o=new Mr(O);return o.source=r,o.amount=e,o.doDelayError=n,o};function A(e){const{onSuccess:n,onError:o,onSubscribe:t}=u(e),{amount:s}=this;let c;const i=new r,{signal:b}=i;b.addEventListener("abort",()=>{void 0!==c&&clearTimeout(c)}),t(i),b.aborted||(c=setTimeout(()=>{this.source.subscribeWith({onSubscribe(r){b.addEventListener("abort",()=>r.abort())},onSuccess(r){n(r),i.abort()},onError(r){o(r),i.abort()}})},s))}var R=(r,e)=>{if("number"!=typeof e)return r;const n=new Mr(A);return n.source=r,n.amount=e,n};function k(e){const{onSuccess:n,onError:o,onSubscribe:t}=u(e),{source:s,other:c}=this,i=new r,{signal:b}=i;t(i),b.aborted||c.subscribeWith({onSubscribe(r){b.addEventListener("abort",()=>r.abort())},onSuccess(){b.aborted||s.subscribeWith({onSubscribe(r){b.addEventListener("abort",()=>r.abort())},onSuccess(r){n(r),i.abort()},onError(r){o(r),i.abort()}})},onError(r){o(r),i.abort()}})}var j=(r,e)=>{if(!(e instanceof Mr))return r;const n=new Mr(k);return n.source=r,n.other=e,n};function x(r){const{onSuccess:e,onError:n,onSubscribe:o}=u(r),{source:t,callable:s}=this;t.subscribeWith({onSubscribe:o,onSuccess(r){e(r),s(r)},onError:n})}var I=(r,e)=>{if("function"!=typeof e)return r;const n=new Mr(x);return n.source=r,n.callable=e,n};function U(r){const{onSuccess:e,onError:n,onSubscribe:o}=u(r),{source:t,callable:s}=this;t.subscribeWith({onSubscribe:o,onSuccess(r){e(r),s()},onError(r){n(r),s()}})}var C=(r,e)=>{if("function"!=typeof e)return r;const n=new Mr(U);return n.source=r,n.callable=e,n};function D(r){const{onSuccess:e,onError:n,onSubscribe:o}=u(r),{source:t,callable:s}=this;let c=!1;t.subscribeWith({onSubscribe(r){r.signal.addEventListener("abort",()=>{c||(s(),c=!0)}),o(r)},onSuccess(r){e(r),c||(s(),c=!0)},onError(r){n(r),c||(s(),c=!0)}})}var M=(r,e)=>{if("function"!=typeof e)return r;const n=new Mr(D);return n.source=r,n.callable=e,n};function N(r){const{onSuccess:e,onError:n,onSubscribe:o}=u(r),{source:t,callable:s}=this;t.subscribeWith({onSubscribe(r){r.signal.addEventListener("abort",s),o(r)},onSuccess:e,onError:n})}var F=(r,e)=>{if("function"!=typeof e)return r;const n=new Mr(N);return n.source=r,n.callable=e,n};function q(r){const{onSuccess:e,onError:n,onSubscribe:o}=u(r),{source:t,callable:s}=this;t.subscribeWith({onSubscribe:o,onSuccess:e,onError(r){s(r),n(r)}})}var B=(r,e)=>{if("function"!=typeof e)return r;const n=new Mr(q);return n.source=r,n.callable=e,n};function G(r){const{onSuccess:e,onError:n,onSubscribe:o}=u(r),{source:t,callable:s}=this;t.subscribeWith({onSubscribe:o,onSuccess(r){s(r),e(r)},onError(r){s(void 0,r),n(r)}})}var H=(r,e)=>{if("function"!=typeof e)return r;const n=new Mr(G);return n.source=r,n.callable=e,n};function J(r){const{onSuccess:e,onError:n,onSubscribe:o}=u(r),{source:t,callable:s}=this;t.subscribeWith({onSubscribe:o,onSuccess(r){s(r),e(r)},onError:n})}var K=(r,e)=>{if("function"!=typeof e)return r;const n=new Mr(J);return n.source=r,n.callable=e,n};function Q(r){const{onSuccess:e,onError:n,onSubscribe:o}=u(r),{source:t,callable:s}=this;t.subscribeWith({onSubscribe(r){s(r),o(r)},onSuccess:e,onError:n})}var V=(r,e)=>{if("function"!=typeof e)return r;const n=new Mr(Q);return n.source=r,n.callable=e,n};function X(r){const{onSuccess:e,onError:n,onSubscribe:o}=u(r),{source:t,callable:s}=this;t.subscribeWith({onSubscribe:o,onSuccess(r){s(),e(r)},onError(r){s(),n(r)}})}var Y=(r,e)=>{if("function"!=typeof e)return r;const n=new Mr(X);return n.source=r,n.callable=e,n};function Z(e){const{onSubscribe:n,onError:o,onSuccess:t}=u(e),s=new r,{signal:c}=s;if(n(s),c.aborted)return;const{mapper:i,source:b}=this;b.subscribeWith({onSubscribe(r){c.addEventListener("abort",()=>r.abort())},onSuccess(r){let e;try{if(!((e=i(r))instanceof Mr))throw new Error("Single.flatMap: mapper returned a non-Single")}catch(r){return void o(r)}e.subscribeWith({onSubscribe(r){c.addEventListener("abort",()=>r.abort())},onSuccess(r){t(r),s.abort()},onError(r){o(r),s.abort()}})},onError(r){o(r),s.abort()}})}var $=(r,e)=>{if("function"!=typeof e)return r;const n=new Mr(Z);return n.source=r,n.mapper=e,n};function _(e){const{onSuccess:n,onError:c,onSubscribe:i}=u(e),b=new r;if(i(b),b.signal.aborted)return;this.controller=b,this.onSuccess=n,this.onError=c;const a=t.bind(this),l=s.bind(this);let f;try{f=this.callable()}catch(r){return void l(r)}o(f)?nr(f).subscribe(n,c):a(f)}var rr=r=>{if("function"!=typeof r)return f(new Error("Single.fromCallable: callable received is not a function."));const e=new Mr(_);return e.callable=r,e};function er(e){const{onSuccess:n,onError:o,onSubscribe:c}=u(e),i=new r;c(i),i.signal.aborted||(this.controller=i,this.onSuccess=n,this.onError=o,this.promise.then(t.bind(this),s.bind(this)))}var nr=r=>{if(!o(r))return f(new Error("Single.fromPromise: expects a Promise-like value."));const e=new Mr(er);return e.promise=r,e};function or(e){const{onSuccess:n,onError:o,onSubscribe:c}=u(e),i=new r;if(c(i),i.signal.aborted)return;this.controller=i,this.onSuccess=n,this.onError=o;const b=t.bind(this),a=s.bind(this);this.subscriber(b,a)}var tr=r=>{if("function"!=typeof r)return f(new Error("Single.fromResolvable: expects a function."));const e=new Mr(or);return e.subscriber=r,e};function sr(r){b(r,this.value)}var cr=r=>{if(null==r)return f(new Error("Single.just: received a null value."));const e=new Mr(sr);return e.value=r,e};function ir(r){let e;try{if(e=this.operator(r),!n(e))throw new Error("Single.lift: operator returned a non-Observer.")}catch(e){return void a(r,e)}this.source.subscribeWith(e)}var ur=(r,e)=>{if("function"!=typeof e)return r;const n=new Mr(ir);return n.source=r,n.operator=e,n};const br=r=>r;function ar(r){const{onSuccess:e,onError:n,onSubscribe:o}=u(r),{mapper:t}=this;this.source.subscribeWith({onSubscribe:o,onSuccess(r){let o;try{if(null==(o=t(r)))throw new Error("Single.map: mapper function returned a null value.")}catch(r){return void n(r)}e(o)},onError:n})}var lr=(r,e)=>{let n=e;"function"!=typeof e&&(n=br);const o=new Mr(ar);return o.source=r,o.mapper=n,o};function fr(e){const{onSubscribe:n,onError:o,onSuccess:t}=u(e),s=new r,{signal:c}=s;n(s),c.aborted||this.source.subscribeWith({onSubscribe(r){c.addEventListener("abort",()=>r.abort())},onSuccess(r){let e=r;r instanceof Mr||(e=f(new Error("Single.merge: source emitted a non-Single value."))),e.subscribeWith({onSubscribe(r){c.addEventListener("abort",()=>r.abort())},onSuccess(r){t(r),s.abort()},onError(r){o(r),s.abort()}})},onError(r){o(r),s.abort()}})}var hr=r=>{if(!(r instanceof Mr))return f(new Error("Single.merge: source is not a Single."));const e=new Mr(fr);return e.source=r,e};function Sr(e){const{onSuccess:n,onError:o,onSubscribe:t}=u(e),{source:s,resumeIfError:c}=this,i=new r,{signal:b}=i;t(i),b.aborted||s.subscribeWith({onSubscribe(r){b.addEventListener("abort",()=>r.abort())},onSuccess(r){n(r),i.abort()},onError(r){let e;if("function"==typeof c)try{if(!((e=c(r))instanceof Mr))throw new Error("Single.onErrorResumeNext: returned an non-Single.")}catch(e){return void o(new Error([r,e]))}else e=c;e.subscribeWith({onSubscribe(r){b.addEventListener("abort",()=>r.abort())},onSuccess(r){n(r),i.abort()},onError(r){o(r),i.abort()}})}})}var dr=(r,e)=>{if(!("function"==typeof e||e instanceof Mr))return r;const n=new Mr(Sr);return n.source=r,n.resumeIfError=e,n};function Er(r){const{onSuccess:e,onError:n,onSubscribe:o}=u(r),{source:t,item:s}=this;t.subscribeWith({onSubscribe:o,onSuccess:e,onError(r){let o;try{if(null==(o=s(r)))throw new Error(new Error("Single.onErrorReturn: returned a null value."))}catch(e){return void n([r,e])}e(o)}})}var vr=(r,e)=>{if("function"!=typeof e)return r;const n=new Mr(Er);return n.source=r,n.item=e,n};function wr(r){const{onSuccess:e,onSubscribe:n}=u(r),{source:o,item:t}=this;o.subscribeWith({onSubscribe:n,onSuccess:e,onError(){e(t)}})}var pr=(r,e)=>{if(null==e)return r;const n=new Mr(wr);return n.source=r,n.item=e,n};const mr={signal:{aborted:!1,addEventListener:()=>{},removeEventListener:()=>{},onabort:()=>{}},abort:()=>{}};function gr(r){r.onSubscribe(mr)}let yr;var Wr=()=>(void 0===yr&&((yr=new Mr(gr)).subscribeActual=gr.bind(yr)),yr);function Lr(e){const{onSubscribe:n,onSuccess:o,onError:t}=u(e),s=new r,{signal:c}=s;if(n(s),c.aborted)return;const{source:i,bipredicate:b}=this;let a=0;const l=()=>{c.aborted||(a+=1,i.subscribeWith({onSubscribe(r){c.addEventListener("abort",()=>r.abort())},onSuccess(r){o(r),s.abort()},onError(r){if("function"==typeof b){b(a,r)?l():(t(r),s.abort())}else l()}}))};l()}var zr=(r,e)=>{const n=new Mr(Lr);return n.source=r,n.bipredicate=e,n};function Tr(e){const{onSubscribe:n,onSuccess:o,onError:t}=u(e),s=new r,{signal:c}=s;if(n(s),c.aborted)return;const{source:i,other:b}=this;b.subscribeWith({onSubscribe(r){c.addEventListener("abort",()=>r.abort())},onSuccess(){t(new Error("Single.takeUntil: Source cancelled by other Single.")),s.abort()},onError(r){t(new Error(["Single.takeUntil: Source cancelled by other Single.",r])),s.abort()}}),i.subscribeWith({onSubscribe(r){c.aborted?r.abort():c.addEventListener("abort",()=>r.abort())},onSuccess(r){o(r),s.abort()},onError(r){t(r),s.abort()}})}const Or=(r,e)=>{if(!(e instanceof Mr))return r;const n=new Mr(Tr);return n.source=r,n.other=e,n};function Pr(e){const{onSuccess:n,onSubscribe:o}=u(e),t=new r,{signal:s}=t;if(o(t),s.aborted)return;const c=setTimeout(n,this.amount,0);s.addEventListener("abort",()=>{clearTimeout(c)})}var Ar=r=>{if("number"!=typeof r)return f(new Error('Single.timer: "amount" is not a number.'));const e=new Mr(Pr);return e.amount=r,e};function Rr(e){const{onSuccess:n,onError:o,onSubscribe:t}=u(e),{amount:s}=this,c=new r,{signal:i}=c;if(t(c),i.aborted)return;const b=setTimeout(()=>{o(new Error("Single.timeout: TimeoutException (no success signals within the specified timeout).")),c.abort()},s);i.addEventListener("abort",()=>{clearTimeout(b)}),this.source.subscribeWith({onSubscribe(r){i.addEventListener("abort",()=>r.abort())},onSuccess(r){n(r),c.abort()},onError(r){o(r),c.abort()}})}var kr=(r,e)=>{if("number"!=typeof e)return r;const n=new Mr(Rr);return n.source=r,n.amount=e,n};const jr=r=>r;function xr(e){const{onSuccess:n,onError:o,onSubscribe:t}=u(e),s=[],c=new r,{signal:i}=c;if(t(c),i.aborted)return;const{sources:b,zipper:a}=this,l=b.length;if(0===l)return o(new Error("Single.zip: empty iterable")),void c.abort();let f=l;for(let r=0;r<l;r+=1){if(i.aborted)return;const e=b[r];if(e instanceof Mr)e.subscribeWith({onSubscribe(r){i.addEventListener("abort",()=>r.abort())},onSuccess(e){if(!i.aborted&&(s[r]=e,0===(f-=1))){let r;try{if(null==(r=a(s)))throw new Error("Single.zip: zipper function returned a null value.")}catch(r){return o(r),void c.abort()}n(r),c.abort()}},onError(r){o(r),c.abort()}});else{if(null==e){o(new Error("Single.zip: One of the sources is undefined.")),c.abort();break}s[r]=e,f-=1}}}var Ir=(r,n)=>{if(!e(r))return f(new Error("Single.zip: sources is not Iterable."));let o=n;"function"!=typeof n&&(o=jr);const t=new Mr(xr);return t.sources=r,t.zipper=o,t};const Ur=(r,e)=>[r,e];function Cr(e){const{onSuccess:n,onError:o,onSubscribe:t}=u(e);let s,c;const i=new r,{signal:b}=i;if(t(i),b.aborted)return;const{source:a,other:l,zipper:f}=this;a.subscribeWith({onSubscribe(r){b.addEventListener("abort",()=>r.abort())},onSuccess(r){if(!b.aborted&&(s=r,null!=c)){let r;try{if(null==(r=f(s,c)))throw new Error("Single.zipWith: zipper function returned a null value.")}catch(r){return o(r),void i.abort()}n(r),i.abort()}},onError(r){o(r),i.abort()}}),l.subscribeWith({onSubscribe(r){b.aborted?r.abort():b.addEventListener("abort",()=>r.abort())},onSuccess(r){if(!b.aborted&&(c=r,null!=s)){let r;try{if(null==(r=f(s,c)))throw new Error("Single.zipWith: zipper function returned a null value.")}catch(r){return o(r),void i.abort()}n(r),i.abort()}},onError(r){o(r),i.abort()}})}var Dr=(r,e,n)=>{if(!(e instanceof Mr))return r;let o=n;"function"!=typeof n&&(o=Ur);const t=new Mr(Cr);return t.source=r,t.other=e,t.zipper=o,t};class Mr{constructor(r){this.subscribeActual=r}static create(r){return m(r)}static amb(r){return S(r)}ambWith(r){return E(this,r)}cache(){return w(this)}compose(r){return g(this,r)}contains(r,e){return L(this,r,e)}static defer(r){return T(r)}delay(r,e){return P(this,r,e)}delaySubscription(r){return R(this,r)}delayUntil(r){return j(this,r)}doAfterSuccess(r){return I(this,r)}doAfterTerminate(r){return C(this,r)}doFinally(r){return M(this,r)}doOnAbort(r){return F(this,r)}doOnError(r){return B(this,r)}doOnEvent(r){return H(this,r)}doOnSubscribe(r){return V(this,r)}doOnSuccess(r){return K(this,r)}doOnTerminate(r){return Y(this,r)}static error(r){return f(r)}flatMap(r){return $(this,r)}static fromCallable(r){return rr(r)}static fromPromise(r){return nr(r)}static fromResolvable(r){return tr(r)}static just(r){return cr(r)}lift(r){return ur(this,r)}map(r){return lr(this,r)}static merge(r){return hr(r)}static never(){return Wr()}onErrorResumeNext(r){return dr(this,r)}onErrorReturn(r){return vr(this,r)}onErrorReturnItem(r){return pr(this,r)}retry(r){return zr(this,r)}subscribeWith(r){n(r)&&this.subscribeActual.call(this,r)}subscribe(e,n){const o=new r;let t=!1;return this.subscribeWith({onSubscribe(r){r.signal.addEventListener("abort",()=>{t||(t=!0,o.signal.aborted||o.abort())}),o.signal.addEventListener("abort",()=>{t||(t=!0,r.signal.aborted||r.abort())})},onSuccess:e,onError:n}),o}takeUntil(r){return Or(this,r)}static timer(r){return Ar(r)}timeout(r){return kr(this,r)}static zip(r,e){return Ir(r,e)}zipWith(r,e){return Dr(this,r,e)}toPromise(){return new Promise((r,e)=>{this.subscribe(r,e)})}then(r,e){return this.toPromise().then(r,e)}catch(r){return this.toPromise().catch(r)}}return Mr}(AbortController);